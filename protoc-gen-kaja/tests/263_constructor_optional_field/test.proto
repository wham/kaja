// Test: proto3 optional field named "constructor" causes the TS plugin to crash.
//
// Root cause: InternalBinaryWrite.scalar() creates a synthetic MessageType and
// calls .create() to get default values for write conditions. The create method
// skips optional fields (fi.opt = true), so message["constructor"] reads from
// Object.prototype.constructor (the built-in Object function). Then
// typescriptLiteralFromValue(Object) throws "Unexpected object: function ...".
//
// The Go plugin handles this correctly â€” it hardcodes write conditions without
// runtime evaluation, producing valid output.
syntax = "proto3";

package test;

message ConstructorOptional {
  optional string constructor = 1;
  string name = 2;
}
