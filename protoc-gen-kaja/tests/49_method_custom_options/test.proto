syntax = "proto3";

package test;

import "google/protobuf/descriptor.proto";

// Define custom method options
extend google.protobuf.MethodOptions {
  string api_version = 51001;
  bool deprecated_api = 51002;
  int32 rate_limit = 51003;
}

message Request {
  string query = 1;
}

message Response {
  string result = 1;
}

service TestService {
  // Method with custom options
  rpc GetData(Request) returns (Response) {
    option (api_version) = "v2.0";
    option (deprecated_api) = true;
    option (rate_limit) = 100;
  }
  
  // Method without custom options
  rpc PostData(Request) returns (Response);
  
  // Method with only one custom option
  rpc UpdateData(Request) returns (Response) {
    option (api_version) = "v1.5";
  }
}
